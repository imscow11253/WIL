25.1.18 

조성수 대표님 유튜브 강의를 통해 빠르게 살펴보자. 
이건 조성수 대표님의 openstack 유튭 강의에서 VLAN에 대해서 간략하게 설명한 부분을 정리한 거라 깊은 내용이 아니다. 나중에 좀 더 자세하게 살펴보는 걸로 하자. 

![[Pasted image 20250118034933.png]]
![[Pasted image 20250118035650.png]]


하나의 스위치에 그냥 케이블을 연결한 디바이스들은 모두 같은 네트워크를 사용하고 속한다고 할 수 있다.
VLAN은 물리적으로 같은 네트워크를 쓰더라도 다른 네트워크로 쪼개고 싶을 때 사용하는 것이다. 

스위치의 port 마다 VLAN 번호를 할당해주어서 switch가 packet을 forwarding 할 때, VLAN에 따라 분리되도록 하는 것이다. 만약 하나의 port에 여러 개의 VLAN 번호를 할당해주고 싶으면 switch를 ==TRUNCK 모드==로 두면 port 마다 VLAN을 범위로 지정할 수 있다. (100~200, 이런 식으로) 하나만 할당하는 것은 ==ACCESS 모드==, 여러 개를 할당하는 것은 ==TRUNCK 모드==이다. 

![[Pasted image 20250118040116.png]]

위의 그림과 같이 스위치를 여러 개 두고 각 스위치에 연결된 서버끼리 VLAN을 같게 설정해두면 서버들끼리의 통신도 가능하다. 위의 그림에서 파란 색은 파란 색끼리, 초록색은 초록색끼리 통신이 가능하다. 하지만 파란색-초록색의 통신은 VLAN이 다르기 때문에 통신할 수 없다. 파란색-초록색 통신이 가능하게 하고 싶으면 switch 들 상단에 Router를 두고 switch 들을 연결하면 된다. router를 거치게 되면 서로 다른 네트워크라도 통신이 가능하게 된다. 

![[Pasted image 20250118040414.png]]

위의 개념을 데이터 센터 Level로 확장하게 되면 위와 같은 그림이 되고, 이를 ==3계층 형태==라고 부른다. 이는 2020년 이전에 사용되던 데이터 센터의 전통적인 형태이다. 근데 요즘은 다르다. 2019년도 if kakao 컨퍼런스 보면 새로운 데이터 베이스의 형태를 소개하는 동영상이 있다. (L3 routing을 사용하는 spine-leaf 아키텍처)


